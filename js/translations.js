// Translations
const translations = {
    de: {
        'nav.services': 'Services',
        'nav.about': 'Über mich',
        'nav.contact': 'Kontakt',
        'nav.blog': 'Blog',
        'hero.status': 'Verfügbar für neue Projekte',
        'hero.title': 'IT Consultant & AI Developer',
        'hero.subtitle': 'Spezialisiert auf KI-Agenten und moderne App-Entwicklung. Ich transformiere komplexe Probleme in elegante technische Lösungen. Schnelle Iteration, moderne Technologien, messbare Ergebnisse.',
        'hero.cta': 'Projekt starten',
        'hero.cta2': 'Services ansehen',
        'hero.techStack': 'Tech Stack',
        'stats.projects': 'Projekte abgeschlossen',
        'stats.years': 'Jahre Erfahrung',
        'stats.satisfaction': '% Zufriedenheit',
        'stats.response': 'h Antwortzeit',
        'services.kicker': 'Was ich anbiete',
        'services.title': 'Meine Kernkompetenzen',
        'services.subtitle': 'Spezialisiert auf zukunftsweisende Technologien, die Ihr Unternehmen voranbringen',
        'services.ai.title': 'KI-Lösungen',
        'services.ai.description': 'Von intelligenten Agenten über automatisierte Workflows bis hin zu selbst gehosteten LLMs. Massgeschneiderte KI-Lösungen mit voller Datensouveränität – Ihre KI, Ihre Infrastruktur, Ihre Kontrolle.',
        'services.fullstack.title': 'Full-Stack Entwicklung',
        'services.fullstack.description': 'End-to-End Webentwicklung von der Datenbank bis zum Frontend. Robuste APIs, skalierbare Architektur und moderne Tech-Stacks für produktionsreife Anwendungen.',
        'services.mobile.title': 'Mobile Apps',
        'services.mobile.description': 'Cross-Plattform Mobile-Entwicklung für iOS und Android. Exzellente UX, native Performance und nahtlose Backend-Integration.',
        'about.kicker': 'Wer ich bin',
        'about.title': 'Vision & Antrieb',
        'about.description1': 'Als Ihr IT-Consultant sehe ich meine Aufgabe darin, nicht nur technologische Lösungen zu liefern, sondern den Weg für das Kommende zu bereiten. Meine Arbeit ist getrieben von der Vision, durch KI und innovative Applikationen neue Möglichkeiten zu schaffen.',
        'about.description2': 'Transparenz, partnerschaftliche Zusammenarbeit und ein unerschütterlicher Qualitätsanspruch sind die Grundpfeiler meiner Arbeit, um gemeinsam Grosses zu erreichen.',
        'about.description3': 'Im Zeitalter der KI zählt Geschwindigkeit: Schnell iterieren, Ideen validieren und Ergebnisse liefern. Wer die neuen Technologien richtig einsetzt, erreicht in Wochen, was früher Monate dauerte.',
        'about.cta': 'Zusammenarbeiten',
        'about.terminal.title': 'Über Mich',
        'about.terminal.p1': 'Als IT-Consultant und Entwickler verbinde ich tiefgreifendes technisches Know-how mit der Vision, innovative Lösungen zu schaffen.',
        'about.terminal.focus': 'Fokus',
        'about.terminal.item1': 'KI-Systeme & Automation',
        'about.terminal.item2': 'Applied AI',
        'about.terminal.item3': 'Full-Stack Development',
        'about.terminal.item4': 'Cloud Architecture',
        'about.terminal.values': 'Werte',
        'about.terminal.values.text': 'Transparenz | Qualität | Innovation',
        'contact.kicker': 'Kontakt',
        'contact.title': 'Lassen Sie uns sprechen',
        'contact.description': 'Bereit, Ihr nächstes Projekt zu diskutieren? Ich freue mich darauf, von Ihnen zu hören und gemeinsam innovative Wege zu gehen.',
        'contact.location': 'Schweiz',
        'contact.cta': 'E-Mail senden',
        'footer.rights': 'Alle Rechte vorbehalten.',
        'footer.status': 'Online',
        'blog.title': 'Blog',
        'blog.subtitle': 'Gedanken und Erkenntnisse zu KI, Entwicklung und Technologie',
        'blog.kicker': 'Neueste Artikel',
        'blog.readMore': 'Weiterlesen',
        'blog.backToList': 'Zurück zum Blog',
        'blog.publishedOn': 'Veröffentlicht am',
        'clients.title': 'Vertrauen von führenden Unternehmen'
    },
    en: {
        'nav.services': 'Services',
        'nav.about': 'About',
        'nav.contact': 'Contact',
        'nav.blog': 'Blog',
        'hero.status': 'Available for new projects',
        'hero.title': 'IT Consultant & AI Developer',
        'hero.subtitle': 'Specialized in AI agents and modern app development. I transform complex problems into elegant technical solutions. Rapid iteration, modern technologies, measurable results.',
        'hero.cta': 'Start project',
        'hero.cta2': 'View services',
        'hero.techStack': 'Tech Stack',
        'stats.projects': 'Projects completed',
        'stats.years': 'Years experience',
        'stats.satisfaction': '% Satisfaction',
        'stats.response': 'h Response time',
        'services.kicker': 'What I offer',
        'services.title': 'My Core Competencies',
        'services.subtitle': 'Specialized in forward-thinking technologies that drive your business forward',
        'services.ai.title': 'AI Solutions',
        'services.ai.description': 'From intelligent agents to automated workflows and self-hosted LLMs. Custom AI solutions with full data sovereignty – your AI, your infrastructure, your control.',
        'services.fullstack.title': 'Full-Stack Development',
        'services.fullstack.description': 'End-to-end web development from database to frontend. Robust APIs, scalable architecture, and modern tech stacks for production-ready applications.',
        'services.mobile.title': 'Mobile Apps',
        'services.mobile.description': 'Cross-platform mobile development for iOS and Android. Excellent UX, native performance, and seamless backend integration.',
        'about.kicker': 'Who I am',
        'about.title': 'Vision & Drive',
        'about.description1': 'As your IT consultant, I see my role not just in delivering technological solutions, but in paving the way for what\'s to come. My work is driven by the vision of creating new possibilities through AI and innovative applications.',
        'about.description2': 'Transparency, collaborative partnership, and an unwavering commitment to quality are the cornerstones of my work, to achieve great things together.',
        'about.description3': 'In the age of AI, speed matters: rapid iteration, fast validation, real results. Those who leverage new technologies correctly achieve in weeks what used to take months.',
        'about.cta': 'Work together',
        'about.terminal.title': 'About Me',
        'about.terminal.p1': 'As an IT consultant and developer, I combine deep technical expertise with the vision to create innovative solutions.',
        'about.terminal.focus': 'Focus',
        'about.terminal.item1': 'AI Systems & Automation',
        'about.terminal.item2': 'Applied AI',
        'about.terminal.item3': 'Full-Stack Development',
        'about.terminal.item4': 'Cloud Architecture',
        'about.terminal.values': 'Values',
        'about.terminal.values.text': 'Transparency | Quality | Innovation',
        'contact.kicker': 'Contact',
        'contact.title': 'Let\'s Talk',
        'contact.description': 'Ready to discuss your next project? I look forward to hearing from you and exploring innovative paths together.',
        'contact.location': 'Switzerland',
        'contact.cta': 'Send email',
        'footer.rights': 'All rights reserved.',
        'footer.status': 'Online',
        'blog.title': 'Blog',
        'blog.subtitle': 'Thoughts and insights on AI, development, and technology',
        'blog.kicker': 'Latest Articles',
        'blog.readMore': 'Read more',
        'blog.backToList': 'Back to Blog',
        'blog.publishedOn': 'Published on',
        'clients.title': 'Trusted by leading companies'
    }
};

// Language switching
let currentLang = localStorage.getItem('lang') || 'de';

function setLanguage(lang) {
    currentLang = lang;
    localStorage.setItem('lang', lang);
    document.getElementById('html-root').setAttribute('lang', lang);

    // Update page title based on current page
    const isHomePage = window.location.pathname === '/' || window.location.pathname.endsWith('index.html') && !window.location.pathname.includes('/blog/');
    const isBlogPage = window.location.pathname.includes('/blog/');

    if (isHomePage) {
        document.title = lang === 'de'
            ? 'Nils Weiser - IT Consulting: KI & App Entwicklung'
            : 'Nils Weiser - IT Consulting: AI & App Development';
    } else if (isBlogPage) {
        const baseTitle = document.querySelector('[data-page-title]')?.dataset.pageTitle || 'Blog';
        document.title = `${baseTitle} | Nils Weiser`;
    }

    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[lang][key]) {
            if (element.hasAttribute('data-i18n-html')) {
                element.innerHTML = translations[lang][key];
            } else {
                element.textContent = translations[lang][key];
            }
        }
    });

    document.querySelectorAll('#lang-de, .lang-de-indicator').forEach(el => {
        el.classList.toggle('active', lang === 'de');
    });
    document.querySelectorAll('#lang-en, .lang-en-indicator').forEach(el => {
        el.classList.toggle('active', lang === 'en');
    });
}

function getCurrentLang() {
    return currentLang;
}

function getTranslation(key) {
    return translations[currentLang][key] || key;
}
